{% extends 'base.html' %}

{% block body %}
<div class="auth-container">
    {% block auth_intro %}{% endblock %}

    <div class="auth-form">
        <h2 class="auth-title">{{ title }}</h2>
        <form method="POST" action="{{ handler_url }}">
            {{ form.csrf_token }}

            <div class="form-field">
                {{ form.user_name.label }} {{ form.user_name }}
                {% set user_errors = form.user_name.errors %}
                {% if user_name_error_message %}
                {% set user_errors = user_errors + [user_name_error_message] %}
                {% endif %}
                {% if user_errors|length > 0 %}
                <ul class="form-errors">
                    {% for error in user_errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </div>

            <div class="form-field">
                {{ form.password.label }} {{ form.password }}
                {% set password_errors = form.password.errors %}
                {% if password_error_message %}
                {% set password_errors = password_errors + [password_error_message] %}
                {% endif %}
                {% if password_errors|length > 0 %}
                <ul class="form-errors">
                    {% for error in password_errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </div>

            <button type="submit" class="auth-submit">{{ form.submit.label.text }}</button>
        </form>
    </div>
    <div class="auth-links" aria-label="Additional authentication options">
        <p>Don't have an account? <a href="/auth/register">Create one</a>.</p>
    </div>
</div>
{% endblock %}
